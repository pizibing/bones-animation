## 2009.6.29总结 ##

## 完成的工作 ##
上午，解决FCollada环境配置问题，google code的Wiki使用已经比较熟练，目录雏形建立。下午去公司总结回顾，决定了下一周的Task。

## 遇到的问题 ##
上周FCollada配置中出现的一些诡异的错误，发现不是配置问题，而是我们的一个类的定义与VS的一个定义冲突。
解决方式，重名名我们的定义。

## 下一天的工作计划 ##
上午研究骨骼动画的层次结构，下午实现架构。

## 经验和感想 ##
对于类的命名，最好加入项目前缀，以防止与公共库冲突。

从公司获取的Best Practice
  * Code Review
  * Daily Meeting
> > 让别人了解你做了什么，你也可以从其他人那里获得灵感。
> > 遇到难题尽早的提出来，比自己花大量的时间解决更有价值。我们是团队开发，不是个人舞台。
  * 类的封装
> > 尽可能少得暴露类的内部数据
  * const
> > 尽可能多的使用const以防止你的数据被意外修改。
  * 注释
> > 高级语言是给人看的，好的注释不但可以让别人看懂你的代码，也可以帮你回忆起你的算法与设计。
  * 头文件编写规则
    * 复杂的实现，经常改动的实现，放在cpp中，可以加快代码生成。
    * 尽量减少头文件对其他文件的引用，以防止循环依赖。
    * 一个头文件只放一个类，可以通过文件名就了解内容。
  * 宏#define
> > 尽量使用static const Type 代替，因为#define不做类型检查，而且可能会出现优先级错误
  * new and delete
> > 小心使用new，清楚如何传递与使用，以及谁负责释放。内存泄露将导致很多未知的错误。
  * 代码健康度 assert
> > 关键代码尽量加上assert，可以帮助调试，追踪bug。
  * vector
> > 为了性能以及空间节约，尽量不用vector。
  * 类视图
> > 一张简单明确的类视图要比几页的说明更容易让人明白你的设计。

###################################################################################

## 2009.6.30总结 ##

## 完成的工作 ##
上午,查找了一些关于骨骼动画的资料,包括一个开源的骨骼动画引擎cal3d。下午分析cal3d，初步构建骨骼层次模型。
## 遇到的问题 ##
当我可以通过编译并运行的版本，放到其他成员环境时编译出现IL P1 P2版本不匹配的错误。
在网上查找，说是链接库版本问题。查看VS版本我的是VS2008 9.0.30729.1 SP, 其他人是 VS2008 9.0.2… RTM，FCollada库文件是我编译的，版本比其他人高，其他人重新编译FCollada库就可以通过编译了，而且我也可以使用。
## 下一天的工作计划 ##

> 上午完成骨骼层次架构，下午编写测试并完善功能。
## 经验和感想 ##
团队开发，第一点就要保证开发环境要一致，否则开发过程可能因为不同成员版本问题而浪费进度。

###################################################################################

## 2009.7.1总结 ##

## 完成的工作 ##
上午开始对骨骼层次模型进行架构，同时研究cal3d开源引擎的实现。
到下午4:00，cal3d的架构和实现大致有了了解，我们自己的架构也在编码中。到5:30只完成了bone的定义。
## 遇到的问题 ##
骨骼动画层次结构很简单，但需要定义的接口比较多，估计到完全实现至少还需要1天，进度需要延期。
## 下一天的工作计划 ##
上午完成其他接口的定义，然后实现，有时间编写测试程序。
## 经验和感想 ##
项目架构很重要，模块内部的设计也很重要，特别是接口的定义与预留。代码实现也是很花时间的。

cal3d骨骼架构
分为coreskeleton,codebone和skeleton,bone.前者用来共享数据，使得多个角色可以使用相同的结构而不需要每次都从文件中读取。skeleton负责存储，管理bone的添加删除等，bone通过id可以知道父节点和子节点。bone中平移旋转分别有相对、绝对和bone space三种，相对是指相对父节点的变换(通过外部接口设置)，绝对是指世界坐标系的变换（每次更新根据corebone绝对+自己相对计算），bone space计算总的变换以便得到vetex变换矩阵。

###################################################################################

## 2009.7.2总结 ##

## 完成的工作 ##
完成coreskeleton,corebone,skeleton,bone的接口定义。进一步了解了cal3d中骨骼动画实现细节。
## 遇到的问题 ##
编码的工作要比预计花更多的时间，本周进度估计只能完成50%
## 下一天的工作计划 ##
实现coreskeleton,corebone,skeleton,bone，争取显示出线条骨骼。
另外下午要去徐汇领取日语2级准考证，下午的工作要3点左右开始，晚上加班补上落后进度。
## 经验和感想 ##
计划的延期很可能是由于乐观的估计，特别是对自身能力估计过高。因此一次延期，在做下次计划是需要用乘法而不是加法。

###################################################################################

## 2009.7.3总结 ##

## 完成的工作 ##
上午完成coreskeleton,corebone的实现。下午去领日语2级准考证
## 遇到的问题 ##
四元数,矩阵相关操作未实现使得其他部分实现变得更慢.
## 下一天的工作计划 ##
下周一上午完成其他skeleton和bone的实现.
## 经验和感想 ##
如果整个模型的数据结构先建好的话,整个项目的进度大概会比较好把握.
在编程过程中经常遇到一些c++语言的基础问题,如果能把这些常见问题
总结下来对其他人来说会节省很多时间.